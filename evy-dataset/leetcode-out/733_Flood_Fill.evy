
func floodFill:[][]num image:[][]num sr:num sc:num newColor:num
    r_ls := len image
    c_ls := len image[0]
    color := image[sr][sc]
    if color == newColor
        return image
    end
    queue := [(sr sc)]
    while (len queue) > 0
        r := queue[0][0]
        c := queue[0][1]
        queue = queue[1:]
        if image[r][c] == color
            image[r][c] = newColor
            if r - 1 >= 0
                queue = queue + [(r - 1 c)]
            end
            if r + 1 < r_ls
                queue = queue + [(r + 1 c)]
            end
            if c - 1 >= 0
                queue = queue + [(r c - 1)]
            end
            if c + 1 < c_ls
                queue = queue + [(r c + 1)]
            end
        end
    end
    return image
end

func test
    image := [[1 1 1] [1 1 0] [1 0 1]]
    sr := 1
    sc := 1
    newColor := 2
    assert [[2 2 2] [2 2 0] [2 0 1]] (floodFill image sr sc newColor)
end
test
// output:
//line 5 column 5: invalid declaration of "color", already used as function name
//line 6 column 14: unexpected whitespace before "=="
//line 6 column 14: "color" takes 1 argument, found 0
//line 6 column 14: expected end of line, found "=="
//line 6 column 8: expected condition of type bool, found none
//line 9 column 19: expected ")", got identifier
//line 9 column 19: invalid inferred declaration for "queue"
//line 10 column 16: unknown variable name "queue"
//line 10 column 21: "len" takes 1 argument, found 0
//line 11 column 14: unknown variable name "queue"
//line 11 column 19: invalid inferred declaration for "r"
//line 12 column 14: unknown variable name "queue"
//line 12 column 19: invalid inferred declaration for "c"
//line 13 column 9: unknown variable name "queue"
//line 14 column 18: unknown variable name "r"
//line 15 column 19: unknown variable name "r"
//line 16 column 16: unknown variable name "r"
//line 17 column 17: unknown variable name "queue"
//line 17 column 17: at least one statement is required here
//line 19 column 16: unknown variable name "r"
//line 20 column 17: unknown variable name "queue"
//line 20 column 17: at least one statement is required here
//line 22 column 16: unknown variable name "c"
//line 23 column 17: unknown variable name "queue"
//line 23 column 17: at least one statement is required here
//line 25 column 16: unknown variable name "c"
//line 26 column 17: unknown variable name "queue"
//line 26 column 17: at least one statement is required here
//line 2 column 52: "newColor" declared but not used
//line 3 column 5: "r_ls" declared but not used
//line 4 column 5: "c_ls" declared but not used
