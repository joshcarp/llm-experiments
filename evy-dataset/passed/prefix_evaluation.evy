
calc := {"+": (x:num, y:num) => x + y "-" : (x:num, y:num) => x - y "*" : (x:num, y:num) => x * y "/" : (x:num, y:num) => x / y}

func isOperand:bool c:string
    return c.isdigit()
end

func evaluate:num expression:string
    stack := []
    for c := range expression.split()[::-1]
        if isOperand c
            stack = stack + [str2num c]
        else
            o1 := stack[-1]
            stack = stack[:-1]
            o2 := stack[-1]
            stack = stack[:-1]
            stack = stack + [calc[c](o1, o2)]
        end
    end
    return stack[-1]
end

test_expression := "+ 9 * 2 6"
print (evaluate test_expression)

test_expression := "/ * 10 2 + 4 1 "
print (evaluate test_expression)
