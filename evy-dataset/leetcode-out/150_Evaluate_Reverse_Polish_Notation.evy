
func evalRPN:num tokens:[]string
    stack := []
    for t := range tokens
        try
            temp := str2num t
            stack = stack + [temp]
        catch
            b := stack[-1]
            stack = stack[:-1]
            a := stack[-1]
            stack = stack[:-1]
            if t == "+"
                a = a + b
            else if t == "-"
                a = a - b
            else if t == "*"
                a = a * b
            else
                a = floor (a * 1.0 / b)
            end
            stack = stack + [a]
        end
    end
    return stack[-1]
end

func test
    assert 9 (evalRPN ["2" "1" "+" "3" "*"])
    assert 6 (evalRPN ["4" "13" "5" "/" "+"])
    assert 22 (evalRPN ["10" "6" "9" "3" "+" "-" "11" "*" "17" "+" "5" "+"])
end
test
// output:
//line 5 column 9: unknown function "try"
//line 7 column 27: mismatched type for +: []any, []num
//line 8 column 9: unknown function "catch"
//line 14 column 23: "+" takes num, string or array type, found any
//line 16 column 23: "-" takes num type, found any
//line 18 column 23: "*" takes num or array type, found any
//line 20 column 30: mismatched type for *: any, num
//line 20 column 36: "/" takes num type, found any
//line 20 column 27: "floor" takes 1st argument of type num, found any
//line 24 column 5: missing return
//line 25 column 12: unknown variable name "stack"
//line 25 column 12: return statement not allowed here
//line 26 column 1: unexpected input "end"
//line 27 column 1: unreachable code
//line 33 column 1: unreachable code
