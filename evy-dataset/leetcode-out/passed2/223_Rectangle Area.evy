
func computeArea:num A:num B:num C:num D:num E:num F:num G:num H:num
    // sum of areas of two rectangles
    result := (C - A) * (D - B) + (G - E) * (H - F)
    // no overlap
    if (C <= E or G <= A or H <= B or D <= F)
        return result
    end
    // overlap length on x
    dx := min2 (C G) - max2 (A E)
    // overlap length on y
    dy := min2 (D H) - max2 (B F)
    return result - dx * dy
end

func min2:num a:num b:num
    if a < b
        return a
    else
        return b
    end
end

func max2:num a:num b:num
    if a > b
        return a
    else
        return b
    end
end

func test
    assert 45 (computeArea 0 0 3 4 0 0 1 3)
    assert 16 (computeArea -3 0 3 4 0 -1 3 2)
    assert 45 (computeArea -2 -2 2 2 -2 -2 2 2)
end
test
