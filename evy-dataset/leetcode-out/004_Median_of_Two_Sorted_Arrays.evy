
func findMedianSortedArrays:num nums1:[]num nums2:[]num
    ls1 := len nums1
    ls2 := len nums2
    if ls1 < ls2
        return findMedianSortedArrays nums2 nums1
    end
    l := 0
    r := ls2 * 2
    while l <= r
        mid2 := (l + r) >> 1
        mid1 := ls1 + ls2 - mid2
        L1 := -2147483648 if mid1 == 0 else nums1[(mid1 - 1) >> 1]
        L2 := -2147483648 if mid2 == 0 else nums2[(mid2 - 1) >> 1]
        R1 := 2147483647 if mid1 == 2 * ls1 else nums1[mid1 >> 1]
        R2 := 2147483647 if mid2 == 2 * ls2 else nums2[mid2 >> 1]
        if L1 > R2
            l = mid2 + 1
        else if L2 > R1
            r = mid2 - 1
        else
            return (max L1 L2 + min R1 R2) / 2
        end
    end
    return -1
end

func test
    s := {}
    print (findMedianSortedArrays s [1 1] [1 2])
end
// output:
//line 11 column 26: unexpected ">"
//line 11 column 26: invalid inferred declaration for "mid2"
//line 12 column 29: unknown variable name "mid2"
//line 12 column 33: invalid inferred declaration for "mid1"
//line 13 column 27: expected end of line, found "if"
//line 14 column 27: expected end of line, found "if"
//line 15 column 26: expected end of line, found "if"
//line 16 column 26: expected end of line, found "if"
//line 18 column 17: unknown variable name "mid2"
//line 18 column 13: at least one statement is required here
//line 20 column 17: unknown variable name "mid2"
//line 20 column 13: at least one statement is required here
//line 22 column 31: unexpected whitespace before "+"
//line 22 column 31: "max" takes 2 arguments, found 0
//line 22 column 31: expected ")", got "+"
//line 22 column 20: expected return value of type num, found ILLEGAL
//line 30 column 43: "findMedianSortedArrays" takes 2 arguments, found 3
