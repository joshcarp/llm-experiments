
func isPalindrome:bool s:string
    alnumS := []
    for ch := range s
        if isalnum ch
            alnumS = alnumS + [lower ch]
        end
    end
    ls := len alnumS
    if ls <= 1
        return true
    end
    mid := floor ls/2
    for i := range mid
        if alnumS[i] != alnumS[ls - i - 1]
            return false
        end
    end
    return true
end

func isalnum:bool ch:string
    return ("a" <= ch and ch <= "z") or ("A" <= ch and ch <= "Z") or ("0" <= ch and ch <= "9")
end

func lower:string ch:string
    if "A" <= ch and ch <= "Z"
        return ch + 32
    end
    return ch
end

func test
    assert true==(isPalindrome "A man, a plan, a canal: Panama")
    assert true==(isPalindrome "racecar")
    assert false==(isPalindrome "race a car")
end
test
// output:
//line 26 column 1: cannot override builtin function "lower"
