
func reverseWords:string s:string
    // remove tail space
    s = s.trim " "
    arrayS := []
    last := " "
    // remove multiple spaces
    for i := range (len s)
        if s[i] != " "
            arrayS = arrayS + [s[i]]
        else
            if last != " "
                arrayS = arrayS + [s[i]]
            end
        end
        last = s[i]
    end
    arrayS = arrayS[::-1]
    ls := len arrayS
    pos := 0
    for i := range (ls + 1)
        if i == ls or arrayS[i] == " "
            reverse arrayS pos i
            pos = i + 1
        end
    end
    return join arrayS ""
end

func reverse arrayS:[]string begin:num end:num
    for i := range (floor (end - begin)/2)
        arrayS[begin + i] arrayS[end - i - 1] = arrayS[end - i - 1] arrayS[begin + i]
    end
end

func test
    assert "hello world" (reverseWords " hello world ")
    assert "the quick brown fox" (reverseWords "  the  quick  brown  fox  ")
    assert "a good   example" (reverseWords "a good   example")
    assert "a" (reverseWords "a")
    assert "" (reverseWords "")
end
test
// output:
//line 30 column 40: expected identifier, got "end"
//line 30 column 40: expected identifier, got "end"
