Create a evy function to calculate the factorial of a number using recursion with a loop using a nested loop.