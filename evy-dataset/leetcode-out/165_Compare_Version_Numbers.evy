
func compareVersion:num version1:string version2:string
    l1 := split version1 "."
    l2 := split version2 "."
    if l1 == l2
        return 0
    end
    a := len l1
    b := len l2
    if a > b
        for i := range a-b
            l2 = l2 + ["0"]
        end
    else
        for i := range b-a
            l1 = l1 + ["0"]
        end
    end
    for i := range (len l1)
        if str2num l1[i] > str2num l2[i]
            return 1
        else if str2num l1[i] < str2num l2[i]
            return -1
        else
            pass
        end
    end
    return 0
end

func test
    assert 0 (compareVersion "1.01" "1.001")
    assert 1 (compareVersion "1.0" "1.0.0")
    assert 0 (compareVersion "1.0" "1.0")
    assert 1 (compareVersion "7.5.2.4" "7.5.3.4")
    assert -1 (compareVersion "1.01" "1.001")
    assert 1 (compareVersion "1.0" "1.0.0")
    assert 0 (compareVersion "1.0" "1.0")
    assert 1 (compareVersion "7.5.2.4" "7.5.3.4")
end
test
// output:
//line 11 column 13: "i" declared but not used
//line 15 column 13: "i" declared but not used
//line 20 column 26: unexpected whitespace before ">"
//line 20 column 26: "str2num" takes 1 argument, found 0
//line 20 column 26: expected end of line, found ">"
//line 20 column 12: expected condition of type bool, found num
//line 22 column 31: unexpected whitespace before "<"
//line 22 column 31: "str2num" takes 1 argument, found 0
//line 22 column 31: expected end of line, found "<"
//line 22 column 17: expected condition of type bool, found num
//line 25 column 13: unknown function "pass"
//line 25 column 13: at least one statement is required here
