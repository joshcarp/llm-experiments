
func singleNumber:num nums:[]num
    ones := 0
    twos := 0
    for num := range nums
        twos = twos | (ones & num)
        ones = ones ^ num
        threes := ones & twos
        ones = ones & (~threes)
        twos = twos & (~threes)
    end
    return ones
end

func test
    assert 2 (singleNumber [2 2 3 2])
    assert 99 (singleNumber [0 1 0 1 0 1 99])
end
