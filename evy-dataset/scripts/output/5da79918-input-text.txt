Find the number of paths with a given sum of weights in a graph