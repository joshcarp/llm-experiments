
func wallsAndGates rooms:[][]num
    direction := [[0 1] [1 0] [0 -1] [-1 0]]
    m := len rooms
    if m == 0
        return
    end
    n := len rooms[0]
    q := []
    for row := range m
        for col := range n
            if rooms[row][col] == 0
                q = q + [[row col]]
            end
        end
    end
    while (len q) > 0
        point := q[0]
        q = q[1:]
        row := point[0]
        col := point[1]
        for d := range direction
            r := row + direction[d][0]
            c := col + direction[d][1]
            if r < 0 or c < 0 or r >= m or c >= n or rooms[r][c] != 2147483647
                continue
            end
            rooms[r][c] = rooms[row][col] + 1
            q = q + [[r c]]
        end
    end
end

func test
    rooms := [[2147483647 2147483647 2147483647 -1] [2147483647 2147483647 2147483647 -1] [2147483647 -1 2147483647 -1] [0 -1 2147483647 -1]]
    wallsAndGates rooms
    assert [[3 2 1 -1] [2 2 0 -1] [1 -1 1 -1] [0 -1 2 -1]] rooms
end
test
