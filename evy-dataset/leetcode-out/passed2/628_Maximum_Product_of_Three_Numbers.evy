
func maximumProduct:num nums:[]num
    min1 := 2147483647
    min2 := 2147483647
    max1 := -2147483648
    max2 := -2147483648
    max3 := -2147483648
    for num := range nums
        if num <= min1
            min2 = min1
            min1 = num
        else if num <= min2
            min2 = num
        end
        if num >= max1
            max3 = max2
            max2 = max1
            max1 = num
        else if num >= max2
            max3 = max2
            max2 = num
        else if num >= max3
            max3 = num
        end
    end
    return max (min1 * min2 * max1) (max1 * max2 * max3)
end

func test
    assert 6 (maximumProduct [1 2 3])
    assert 24 (maximumProduct [1 2 3 4])
    assert 120 (maximumProduct [1 2 3 4 5])
    assert -6 (maximumProduct [-1 -2 -3 4])
    assert 12 (maximumProduct [-1 -2 -3 4 5])
    assert 12 (maximumProduct [-10 -10 -10 1 1 1])
    assert 1000 (maximumProduct [-10 -10 -10 1 1 1 10 10 10])
end
test
