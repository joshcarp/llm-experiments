
func validWordAbbreviation:bool word:string abbr:string
    pos := 0
    curr := 0
    for i := range (len abbr)
        try
            num := str2num abbr[i]
            if num == 0 and curr == 0
                return false
            end
            curr = curr * 10 + num
        catch
            pos = pos + curr
            curr = 0
            if pos >= (len word)
                return false
            end
            if word[pos] != abbr[i]
                return false
            end
            pos = pos + 1
        end
    end
    pos = pos + curr
    if pos == (len word)
        return true
    end
    return false
end

func test
    assert true==(validWordAbbreviation "internationalization" "i12iz4n")
    assert false==(validWordAbbreviation "apple" "a2e")
    assert true==(validWordAbbreviation "a" "2")
    assert false==(validWordAbbreviation "a" "01")
    assert true==(validWordAbbreviation "internationalization" "i5a11o")
    assert true==(validWordAbbreviation "internationalization" "i5a11o1")
    assert false==(validWordAbbreviation "internationalization" "i5a11o2")
    assert true==(validWordAbbreviation "internationalization" "i12iz4n")
    assert false==(validWordAbbreviation "apple" "a2e")
    assert true==(validWordAbbreviation "a" "2")
    assert false==(validWordAbbreviation "a" "01")
    assert true==(validWordAbbreviation "internationalization" "i5a11o")
    assert true==(validWordAbbreviation "internationalization" "i5a11o1")
    assert false==(validWordAbbreviation "internationalization" "i5a11o2")
end
test
// output:
//line 6 column 9: unknown function "try"
//line 7 column 13: unexpected input "num"
//line 8 column 16: unexpected "num"
//line 11 column 32: unexpected "num"
//line 12 column 9: unknown function "catch"
//line 23 column 5: missing return
//line 24 column 5: unknown variable name "pos"
//line 25 column 8: unknown variable name "pos"
//line 26 column 16: return statement not allowed here
//line 28 column 12: return statement not allowed here
//line 29 column 1: unexpected input "end"
//line 30 column 1: unreachable code
//line 47 column 1: unreachable code
