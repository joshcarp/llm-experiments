
func maximumProduct:num nums:[]num
    min1 := inf
    min2 := inf
    max1 := -inf
    max2 := -inf
    max3 := -inf
    for num := range nums
        if num <= min1
            min2 = min1
            min1 = num
        else if num <= min2
            min2 = num
        end
        if num >= max1
            max3 = max2
            max2 = max1
            max1 = num
        else if num >= max2
            max3 = max2
            max2 = num
        else if num >= max3
            max3 = num
        end
    end
    return max (min1 * min2 * max1) (max1 * max2 * max3)
end

func test
    assert 6 (maximumProduct [1 2 3])
    assert 24 (maximumProduct [1 2 3 4])
    assert 120 (maximumProduct [1 2 3 4 5])
    assert 10 (maximumProduct [-1 -2 -3])
    assert -6 (maximumProduct [-1 -2 -3 4])
    assert 12 (maximumProduct [-1 -2 -3 4 5])
    assert 12 (maximumProduct [-10 -10 -10 1 1 1])
    assert 1000 (maximumProduct [-10 -10 -10 1 1 1 10 10 10])
end
test
// output:
//line 3 column 13: unknown variable name "inf"
//line 3 column 16: invalid inferred declaration for "min1"
//line 4 column 13: unknown variable name "inf"
//line 4 column 16: invalid inferred declaration for "min2"
//line 5 column 14: unknown variable name "inf"
//line 5 column 17: invalid inferred declaration for "max1"
//line 6 column 14: unknown variable name "inf"
//line 6 column 17: invalid inferred declaration for "max2"
//line 7 column 14: unknown variable name "inf"
//line 7 column 17: invalid inferred declaration for "max3"
//line 8 column 9: expected "range", got "num"
//line 9 column 12: unexpected "num"
//line 10 column 13: unknown variable name "min2"
//line 11 column 13: unknown variable name "min1"
//line 10 column 13: at least one statement is required here
//line 12 column 17: unexpected "num"
//line 13 column 13: unknown variable name "min2"
//line 13 column 13: at least one statement is required here
//line 15 column 12: unexpected "num"
//line 16 column 13: unknown variable name "max3"
//line 17 column 13: unknown variable name "max2"
//line 18 column 13: unknown variable name "max1"
//line 16 column 13: at least one statement is required here
//line 19 column 17: unexpected "num"
//line 20 column 13: unknown variable name "max3"
//line 21 column 13: unknown variable name "max2"
//line 20 column 13: at least one statement is required here
//line 22 column 17: unexpected "num"
//line 23 column 13: unknown variable name "max3"
//line 23 column 13: at least one statement is required here
//line 2 column 25: "nums" declared but not used
//line 25 column 5: missing return
//line 26 column 17: unknown variable name "min1"
//line 26 column 22: expected ")", got "*"
//line 26 column 22: "max" takes 2 arguments, found 0
//line 26 column 22: expected end of line, found "*"
//line 26 column 12: return statement not allowed here
//line 27 column 1: unexpected input "end"
//line 28 column 1: unreachable code
//line 39 column 1: unreachable code
