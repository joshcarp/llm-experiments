
func longestValidParentheses:num s:string
    ls := len s
    stack := []
    data := [0] * ls
    for i := range ls
        curr := s[i]
        if curr == "("
            stack = stack + [i]
        else
            if (len stack) > 0
                data[i] = 1
                data[stack[-1]] = 1
                stack = stack[:-1]
            end
        end
    end
    tep := 0
    res := 0
    for t := range data
        if data[t] == 1
            tep = tep + 1
        else
            res = max tep res
            tep = 0
        end
    end
    return max tep res
end

func test
    s := (longestValidParentheses "(()())")
    print s
end
test

test
// output:
//line 9 column 27: mismatched type for +: []any, []num
//line 13 column 21: array index expects num, found any
