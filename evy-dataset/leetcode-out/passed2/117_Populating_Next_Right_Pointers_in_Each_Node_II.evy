
func TreeLinkNode:{}any
    self:{}any
    self.val = 0
    self.left = {}
    self.right = {}
    self.next = {}
    return self
end

func Solution:{}any
    self:{}any
    return self
end

func connect self:{}any root:{}any
    dummyHead := (TreeLinkNode)
    dummyHead.val = -1
    pre := dummyHead
    while root != {}
        if root.left != {}
            pre.next = root.left
            pre = pre.next
        end
        if root.right != {}
            pre.next = root.right
            pre = pre.next
        end
        root = root.next
        if root == {}
            pre = dummyHead
            root = dummyHead.next
            dummyHead.next = {}
        end
    end
end

func test
    root := (TreeLinkNode)
    root.val = 1
    root.left = (TreeLinkNode)
    root.left.val = 2
    root.right = (TreeLinkNode)
    root.right.val = 3
    root.left.left = (TreeLinkNode)
    root.left.left.val = 4
    root.left.right = (TreeLinkNode)
    root.left.right.val = 5
    root.right.left = (TreeLinkNode)
    root.right.left.val = 6
    root.right.right = (TreeLinkNode)
    root.right.right.val = 7
    solution := (Solution)
    connect solution root
    assert true==(solution.next == root.left)
    assert true==(root.left.next == root.right)
    assert true==(root.right.next == root.left.left)
    assert true==(root.left.left.next == root.left.right)
    assert true==(root.left.right.next == root.right.left)
    assert true==(root.right.left.next == root.right.right)
end
test
