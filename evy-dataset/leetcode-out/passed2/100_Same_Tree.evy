
func TreeNode:{}any
    self:{}any
    self.val = 0
    self.left = {}
    self.right = {}
    return self
end

func isSameTree:bool p:{}any q:{}any
    if p == q
        return true
    end
    if (has p "val") and (has q "val") and p["val"] == q["val"]
        if (has p "left") and (has q "left")
            left := isSameTree p["left"] q["left"]
        else
            left := true
        end
        if (has p "right") and (has q "right")
            right := isSameTree p["right"] q["right"]
        else
            right := true
        end
        return (left and right)
    end
    return false
end

func test
    p := (TreeNode)
    q := (TreeNode)
    p["val"] = 1
    p["left"] = (TreeNode)
    p["right"] = (TreeNode)
    p["left"]["val"] = 2
    p["right"]["val"] = 3
    q["val"] = 1
    q["left"] = (TreeNode)
    q["right"] = (TreeNode)
    q["left"]["val"] = 2
    q["right"]["val"] = 3
    assert true==(isSameTree p q)
    p["left"]["val"] = 4
    assert false==(isSameTree p q)
end
